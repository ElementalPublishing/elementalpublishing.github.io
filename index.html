<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Elemental Publishing - Atmospheric music for international audiences. Spiderfox Company and direct artist sales.">
    <meta name="keywords" content="atmospheric music, spiderfox company, elemental publishing, international beats, direct artist sales, underground hip hop">
    <title>Elemental Publishing - Something Different</title>
    <!-- Force rebuild timestamp: 2025-07-06 -->
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <!-- Google Analytics 4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-L1PF6HNX9Z"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-L1PF6HNX9Z');
        
        // Custom events for music business
        function trackAlbumView(albumName) {
            gtag('event', 'album_view', {
                'album_name': albumName,
                'content_type': 'album'
            });
        }
        
        function trackPurchaseIntent(albumName, price) {
            gtag('event', 'purchase_intent', {
                'album_name': albumName,
                'value': price,
                'currency': 'USD'
            });
        }
        
        function trackEmailSignup(source) {
            gtag('event', 'email_signup', {
                'signup_source': source,
                'engagement_type': 'email_capture'
            });
        }
        
        function trackDownload(albumName) {
            gtag('event', 'download_complete', {
                'album_name': albumName,
                'content_type': 'album_download',
                'value': 15,
                'currency': 'USD'
            });
        }
    </script>
    
    <!-- EmailJS -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script type="text/javascript">
        (function(){
            emailjs.init("4FcXDYyUoqNqCbRTK");
        })();
    </script>
    
    <!-- PayPal Live - REAL PAYMENTS TO YOUR ACCOUNT -->
    <script src="https://www.paypal.com/sdk/js?client-id=AXoXKh3JQivgYxCUAo0G8mzef8Q-JCgeBSP1LuFQN4c9AtNH4oBigF9GIVOJH4cdRWsQVcqnWiQGi0Sk&currency=USD&intent=capture"></script>
    
    <!-- Define buyAlbum function immediately -->
    <script>
        // Define album data globally
        window.albumData = {
            'type1': {
                name: 'Type 1',
                price: '15.00',
                downloadPage: 'download-type1.html',
                thankYouPage: 'thank-you-type1.html'
            },
            'striptape': {
                name: 'Strip Tape', 
                price: '15.00',
                downloadPage: 'download-striptape.html',
                thankYouPage: 'thank-you-striptape.html'
            },
            'newmatrix': {
                name: 'New Matrix',
                price: '15.00', 
                downloadPage: 'download-newmatrix.html',
                thankYouPage: 'thank-you-newmatrix.html'
            }
        };

        // Define buyAlbum function globally immediately
        window.buyAlbum = function(albumKey) {
            console.log('buyAlbum called with:', albumKey);
            const album = window.albumData[albumKey];
            console.log('Album data:', album);
            
            if (!album) {
                console.error('Album not found for key:', albumKey);
                alert('Album not found: ' + albumKey);
                return;
            }
            
            // Track purchase intent
            try {
                if (typeof trackPurchaseIntent === 'function') {
                    trackPurchaseIntent(album.name, parseFloat(album.price));
                }
                console.log('Purchase intent tracked');
            } catch (error) {
                console.error('Error tracking purchase intent:', error);
            }
            
            // Redirect to download page to capture email - builds mailing list
            const url = album.downloadPage + '?payment=fallback';
            console.log('Redirecting to:', url);
            window.location.href = url;
        };
        
        console.log('buyAlbum function defined globally');
    </script>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <img src="assets/images/logos/elementalproject2art_120x120.jpg" alt="Elemental Publishing Logo" class="logo-img">
                <h2>Elemental Publishing</h2>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="#home" class="nav-link">Home</a>
                </li>
                <li class="nav-item">
                    <a href="#music" class="nav-link">Music</a>
                </li>
                <li class="nav-item">
                    <a href="#about" class="nav-link">About</a>
                </li>
                <li class="nav-item">
                    <a href="#contact" class="nav-link">Contact</a>
                </li>
            </ul>
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="hero-content">
            <div class="hero-brand">
                <div class="hero-text">
                    <h1>Something Different.</h1>
                    <p class="hero-tagline">Elemental Publishing</p>
                </div>
            </div>
            <p>The good stuff is here.</p>
            <div class="hero-buttons">
                <a href="#music" class="btn btn-primary">Music</a>
                <a href="spiderfox.html" class="btn btn-secondary">Portal</a>
            </div>
        </div>
        <div class="hero-visual">
            <img src="assets/images/logos/headerpic_800x800.jpg" alt="Latest Release" class="hero-album-art">
        </div>
    </section>

    <!-- Portal Gateway Section -->
    <section class="portal-gateway">
        <div class="portal-container">
            <div class="portal-frame">
                <div class="portal-core">
                    <div class="portal-rings">
                        <div class="ring ring-1"></div>
                        <div class="ring ring-2"></div>
                        <div class="ring ring-3"></div>
                    </div>
                    <div class="portal-center">
                        <div class="portal-text">
                            <h2>SPIDERFOX</h2>
                            <p>UNIVERSE</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="portal-invitation">
                <p>Something deeper waits beyond the surface</p>
                <a href="spiderfox.html" class="portal-button">ENTER THE PORTAL</a>
            </div>
        </div>
    </section>

    <!-- Music Section -->
    <section id="music" class="music-section">
        <div class="container">
            <h2>Albums</h2>
            <p class="section-subtitle">Spiderfox Network</p>
            
            <div class="album-grid">
                <!-- Album 1 - Type 1 -->
                <div class="album-card">
                    <div class="album-cover">
                        <img src="assets/images/covers/type1/600x600/cover_600x600.jpg" alt="First Album" class="album-art">
                    </div>
                    <div class="album-info">
                        <h3>Type 1</h3>
                        <p>He who sacrifices his conscience to ambition burns a picture to obtain the ashes.</p>
                        <p class="album-price">$15</p>
                        <div class="album-actions">
                            <div id="paypal-button-type1" class="paypal-button-container">
                                <!-- Fallback button while PayPal loads -->
                                <button class="btn btn-small btn-secondary fallback-buy-btn" onclick="buyAlbum('type1')">Pay $15 â†’ Download</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Album 2 - Strip Tape -->
                <div class="album-card">
                    <div class="album-cover">
                        <img src="assets/images/covers/striptape/600x600/cover_600x600.jpg" alt="Second Album" class="album-art">
                    </div>
                    <div class="album-info">
                        <h3>Strip Tape</h3>
                        <p>The Chrome Mandarin empire's most intoxicating sanctuary.</p>
                        <p class="album-price">$15</p>
                        <div class="album-actions">
                            <div id="paypal-button-striptape" class="paypal-button-container">
                                <!-- Fallback button while PayPal loads -->
                                <button class="btn btn-small btn-secondary fallback-buy-btn" onclick="buyAlbum('striptape')">Pay $15 â†’ Download</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Album 3 - New Matrix -->
                <div class="album-card">
                    <div class="album-cover">
                        <img src="assets/images/covers/newmatrix/600x600/cover_600x600.jpg" alt="Third Album" class="album-art">
                    </div>
                    <div class="album-info">
                        <h3>New Matrix</h3>
                        <p>A woman's dreams were haunted by visions of a higher power. The dreams grew more vivid. She saw herself creating something new, something powerful.</p>
                        <p class="album-price">$15</p>
                        <div class="album-actions">
                            <div id="paypal-button-newmatrix" class="paypal-button-container">
                                <!-- Fallback button while PayPal loads -->
                                <button class="btn btn-small btn-secondary fallback-buy-btn" onclick="buyAlbum('newmatrix')">Pay $15 â†’ Download</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Value Proposition vs Streaming -->
            <div class="streaming-section">
                <h3>Why Buy Direct?</h3>
                <div class="value-proposition">
                    <div class="value-point">
                        <strong>ðŸŽµ Full Quality</strong>
                        <p>320kbps MP3 or FLAC vs compressed streaming</p>
                    </div>
                    <div class="value-point">
                        <strong>ðŸ’¿ Complete Albums</strong>
                        <p>Full 10-track releases vs preview clips</p>
                    </div>
                    <div class="value-point">
                        <strong>ðŸ“± Own Forever</strong>
                        <p>No subscription required, yours to keep</p>
                    </div>
                    <div class="value-point">
                        <strong>ðŸ’° Support Direct</strong>
                        <p>100% to artist vs $0.003 per stream</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- The Chaos Button Section -->
    <section class="chaos-section">
        <div class="container">
            <div class="chaos-container">
                <!-- No explanation, just pure mystery -->
                <a href="https://www.paypal.com/paypalme/elementalpublishing/10" target="_blank" class="chaos-button">10 bucks</a>
            </div>
        </div>
    </section>

    <!-- Email Signup Section -->
    <section id="email-signup" class="email-section">
        <div class="container">
            <div class="email-signup-content">
                <p>Join the mailing list!</p>
                <form class="email-form" id="emailSignupForm">
                    <!-- Honeypot field - hidden from humans, visible to bots -->
                    <input type="text" name="website" id="website" style="display: none;" tabindex="-1" autocomplete="off">
                    <div class="form-group">
                        <input type="email" name="email" id="signup-email" placeholder="Enter your email address" required>
                        <button type="submit" class="btn btn-primary">Join List</button>
                    </div>
                    <p class="privacy-note">Your email stays private.</p>
                </form>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="about-section">
        <div class="container">
            <div class="about-content">
                <div class="stats">
                    <div class="stat">
                        <h3>International</h3>
                        <p>Global Fanbase</p>
                    </div>
                    <div class="stat">
                        <h3>Direct</h3>
                        <p>Artist to Fan</p>
                    </div>
                    <div class="stat">
                        <h3>100%</h3>
                        <p>Direct</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="contact-section">
        <div class="container">
            <h2>Contact</h2>
            <p>For collaborations, custom production, or general inquiries.</p>
            
            <div class="contact-content">
                <div class="contact-info">
                    <h3>Direct Contact</h3>
                    <p>Email: wesleyalexander@elementalpublishing.org</p>
                    <p>Response time: Usually within 24 hours</p>
                    
                    <h3>Follow</h3>
                    <div class="social-links">
                        <a href="https://soundcloud.com/elementalpublishing/" target="_blank" class="social-link">SoundCloud</a>
                        <a href="https://www.youtube.com/@elementalpublishing529" target="_blank" class="social-link">YouTube</a>
                        <a href="https://www.instagram.com/elementalpublishing/" target="_blank" class="social-link">Instagram</a>
                    </div>
                </div>
                
                <form class="contact-form" id="contactForm">
                    <div class="form-group">
                        <label for="name">Name</label>
                        <input type="text" id="name" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="contact-email">Email</label>
                        <input type="email" id="contact-email" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="message">Message</label>
                        <textarea id="message" name="message" rows="5" required></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">Send Message</button>
                </form>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Elemental Publishing</h3>
                    <p>Music direct from the artist.</p>
                </div>
                <div class="footer-section">
                    <h4>Music</h4>
                    <ul>
                        <li><a href="#music">Latest Releases</a></li>
                        <li><a href="#email-signup">Exclusive Content</a></li>
                        <li><a href="#">Purchase Direct</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Connect</h4>
                    <ul>
                        <li><a href="#contact">Contact</a></li>
                        <li><a href="https://soundcloud.com/elementalpublishing/" target="_blank">SoundCloud</a></li>
                        <li><a href="https://www.youtube.com/@elementalpublishing529" target="_blank">YouTube</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Elemental Publishing. All rights reserved.</p>
                <p>Direct artist-fan relationships.</p>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
    
    <!-- PayPal Integration -->
    <script>
        // Use the global albumData from head section
        // Remove duplicate albumData definition

        // Create PayPal buttons for each album
        function createPayPalButton(albumKey, containerId) {
            console.log('Creating PayPal button for:', albumKey, 'in container:', containerId);
            const album = window.albumData[albumKey];
            const container = document.getElementById(containerId);
            
            if (!container) {
                console.error('Container not found:', containerId);
                return;
            }
            
            if (!album) {
                console.error('Album data not found for:', albumKey);
                return;
            }
            
            console.log('Container found, album data:', album);
            
            paypal.Buttons({
                style: {
                    layout: 'horizontal',
                    color: 'blue',
                    shape: 'rect',
                    label: 'buynow',
                    height: 35
                },
                createOrder: function(data, actions) {
                    console.log('PayPal createOrder called for:', album.name);
                    // Track purchase intent
                    trackPurchaseIntent(album.name, parseFloat(album.price));
                    
                    return actions.order.create({
                        purchase_units: [{
                            description: `${album.name} - High Quality MP3 Album`,
                            amount: {
                                currency_code: 'USD',
                                value: album.price
                            }
                        }]
                    });
                },
                onApprove: function(data, actions) {
                    console.log('PayPal onApprove called');
                    return actions.order.capture().then(function(orderData) {
                        // Payment successful!
                        console.log('Payment completed:', orderData);
                        
                        // Track successful purchase
                        gtag('event', 'purchase', {
                            transaction_id: orderData.id,
                            value: parseFloat(album.price),
                            currency: 'USD',
                            items: [{
                                item_id: albumKey,
                                item_name: album.name,
                                category: 'Music',
                                quantity: 1,
                                price: parseFloat(album.price)
                            }]
                        });
                        
                        // Redirect to thank-you page for immediate download
                        console.log('Redirecting to:', album.thankYouPage + '?payment=success&order=' + orderData.id);
                        window.location.href = album.thankYouPage + '?payment=success&order=' + orderData.id;
                    });
                },
                onError: function(err) {
                    console.error('PayPal error:', err);
                    alert('Payment failed. Please try again.');
                },
                onCancel: function(data) {
                    console.log('Payment cancelled:', data);
                    // User cancelled, no action needed
                }
            }).render('#' + containerId).then(function() {
                // PayPal button rendered successfully, hide fallback
                console.log('PayPal button rendered successfully in:', containerId);
                const fallbackBtn = container.querySelector('.fallback-buy-btn');
                if (fallbackBtn) {
                    fallbackBtn.style.display = 'none';
                    console.log('Hid fallback button for:', containerId);
                }
            }).catch(function(err) {
                console.error('PayPal render error for', containerId, ':', err);
                // Keep fallback button visible if PayPal fails
                const fallbackBtn = container.querySelector('.fallback-buy-btn');
                if (fallbackBtn) {
                    fallbackBtn.style.display = 'inline-block';
                    console.log('Kept fallback button visible due to render error');
                }
            });
        }

        // Simple initialization - try once when page loads
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded, initializing PayPal buttons...');
            
            // Show fallback buttons immediately
            document.querySelectorAll('.fallback-buy-btn').forEach(btn => {
                btn.style.display = 'inline-block';
                btn.style.visibility = 'visible';
            });
            
            // Wait a moment for PayPal SDK to load, then create buttons
            setTimeout(function() {
                if (typeof paypal !== 'undefined' && paypal && paypal.Buttons) {
                    console.log('PayPal SDK ready, creating buttons...');
                    createPayPalButton('type1', 'paypal-button-type1');
                    createPayPalButton('striptape', 'paypal-button-striptape'); 
                    createPayPalButton('newmatrix', 'paypal-button-newmatrix');
                } else {
                    console.log('PayPal SDK not ready, keeping fallback buttons');
                }
            }, 1000);
        });
    </script>
</body>
</html>
