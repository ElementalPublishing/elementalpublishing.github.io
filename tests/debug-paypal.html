<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PayPal Debug Test</title>
    <!-- PayPal Checkout SDK -->
    <script src="https://www.paypal.com/sdk/js?client-id=AWWCzMohcrFfVJkA2V02yU1GjPZ7cetRnXNF-_OVlJZx_yHZICTQmeOhqHgDUzyjIZYhrwdevxy65_6y&currency=USD"></script>
</head>
<body>
    <h1>PayPal Debug Test</h1>
    
    <div id="paypal-button-container" style="margin: 20px 0;"></div>
    
    <div id="debug-info">
        <h3>Debug Information:</h3>
        <p id="paypal-status">Loading...</p>
        <p id="script-load">Script loading...</p>
    </div>

    <script>
        console.log('Debug script started');
        
        // Check if PayPal SDK loaded
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded');
            
            setTimeout(function() {
                console.log('Checking PayPal object:', typeof paypal);
                document.getElementById('paypal-status').textContent = 'PayPal object type: ' + typeof paypal;
                
                if (typeof paypal !== 'undefined') {
                    console.log('PayPal is available, creating button...');
                    
                    try {
                        paypal.Buttons({
                            createOrder: function(data, actions) {
                                console.log('createOrder called');
                                return actions.order.create({
                                    purchase_units: [{
                                        description: 'Test Item',
                                        amount: {
                                            currency_code: 'USD',
                                            value: '1.00'
                                        }
                                    }]
                                });
                            },
                            onApprove: function(data, actions) {
                                console.log('onApprove called');
                                return actions.order.capture().then(function(orderData) {
                                    console.log('Capture result', orderData);
                                    alert('Test payment successful! Order ID: ' + orderData.id);
                                });
                            },
                            onError: function(err) {
                                console.error('PayPal error:', err);
                                alert('PayPal error: ' + err);
                            }
                        }).render('#paypal-button-container').then(function() {
                            console.log('PayPal button rendered successfully');
                            document.getElementById('script-load').textContent = 'PayPal button rendered successfully!';
                        }).catch(function(err) {
                            console.error('PayPal render error:', err);
                            document.getElementById('script-load').textContent = 'PayPal render error: ' + err;
                        });
                    } catch (error) {
                        console.error('Error creating PayPal button:', error);
                        document.getElementById('script-load').textContent = 'Error creating PayPal button: ' + error;
                    }
                } else {
                    console.error('PayPal SDK not loaded');
                    document.getElementById('script-load').textContent = 'PayPal SDK not loaded!';
                }
            }, 2000);
        });
        
        // Also check if script loads
        window.addEventListener('load', function() {
            console.log('Window loaded');
        });
    </script>
</body>
</html>
